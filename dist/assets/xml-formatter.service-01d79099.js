import{S as _,bd as M}from"./index-bdafdd1b.js";import{w as v}from"./defaults-4d6daddf.js";var T={exports:{}},b={exports:{}};(function(p,u){Object.defineProperty(u,"__esModule",{value:!0}),u.ParsingError=void 0;class h extends Error{constructor(r,o){super(r),this.cause=o}}u.ParsingError=h;let l;function g(){return C(!1)||P()||E()||O()}function y(){return e(/\s*/),C(!0)||E()||S()||w(!1)}function a(){const t=w(!0),r=[];let o,s=y();for(;s;){if(s.node.type==="Element"){if(o)throw new Error("Found multiple root nodes");o=s.node}s.excluded||r.push(s.node),s=y()}if(!o)throw new h("Failed to parse XML","Root Element not found");if(l.xml.length!==0)throw new h("Failed to parse XML","Not Well-Formed XML");return{declaration:t?t.node:null,root:o,children:r}}function w(t){const r=e(t?/^<\?(xml(-stylesheet)?)\s*/:/^<\?([\w-:.]+)\s*/);if(!r)return;const o={name:r[1],type:"ProcessingInstruction",attributes:{}};for(;!(i()||c("?>"));){const s=x();if(s)o.attributes[s.name]=s.value;else return}return e(/\?>/),{excluded:t?!1:l.options.filter(o)===!1,node:o}}function C(t){const r=e(/^<([^?!</>\s]+)\s*/);if(!r)return;const o={type:"Element",name:r[1],attributes:{},children:[]},s=t?!1:l.options.filter(o)===!1;for(;!(i()||c(">")||c("?>")||c("/>"));){const m=x();if(m)o.attributes[m.name]=m.value;else return}if(e(/^\s*\/>/))return o.children=null,{excluded:s,node:o};e(/\??>/);let f=g();for(;f;)f.excluded||o.children.push(f.node),f=g();if(l.options.strictMode){const m=`</${o.name}>`;if(l.xml.startsWith(m))l.xml=l.xml.slice(m.length);else throw new h("Failed to parse XML",`Closing tag not matching "${m}"`)}else e(/^<\/[\w-:.\u00C0-\u00FF]+\s*>/);return{excluded:s,node:o}}function S(){const t=e(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||e(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||e(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||e(/^<!DOCTYPE\s+\S+\s*>/);if(t){const r={type:"DocumentType",content:t[0]};return{excluded:l.options.filter(r)===!1,node:r}}}function O(){if(l.xml.startsWith("<![CDATA[")){const t=l.xml.indexOf("]]>");if(t>-1){const r=t+3,o={type:"CDATA",content:l.xml.substring(0,r)};return l.xml=l.xml.slice(r),{excluded:l.options.filter(o)===!1,node:o}}}}function E(){const t=e(/^<!--[\s\S]*?-->/);if(t){const r={type:"Comment",content:t[0]};return{excluded:l.options.filter(r)===!1,node:r}}}function P(){const t=e(/^([^<]+)/);if(t){const r={type:"Text",content:t[1]};return{excluded:l.options.filter(r)===!1,node:r}}}function x(){const t=e(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(t)return{name:t[1].trim(),value:n(t[2].trim())}}function n(t){return t.replace(/^['"]|['"]$/g,"")}function e(t){const r=l.xml.match(t);if(r)return l.xml=l.xml.slice(r[0].length),r}function i(){return l.xml.length===0}function c(t){return l.xml.indexOf(t)===0}function d(t,r={}){t=t.trim();const o=r.filter||(()=>!0);return l={xml:t,options:Object.assign(Object.assign({},r),{filter:o,strictMode:r.strictMode===!0})},a()}p.exports=d,u.default=d})(b,b.exports);var D=b.exports;(function(p,u){var h=M&&M.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(u,"__esModule",{value:!0});const l=h(D);function g(n){if(!n.options.indentation&&!n.options.lineSeparator)return;n.content+=n.options.lineSeparator;let e;for(e=0;e<n.level;e++)n.content+=n.options.indentation}function y(n){n.content=n.content.replace(/ +$/,"");let e;for(e=0;e<n.level;e++)n.content+=n.options.indentation}function a(n,e){n.content+=e}function w(n,e,i){if(typeof n.content=="string")C(n.content,e,i);else if(n.type==="Element")O(n,e,i);else if(n.type==="ProcessingInstruction")P(n,e);else throw new Error("Unknown node type: "+n.type)}function C(n,e,i){if(!i){const c=n.trim();(e.options.lineSeparator||c.length===0)&&(n=c)}n.length>0&&(!i&&e.content.length>0&&g(e),a(e,n))}function S(n,e){const i="/"+n.join("/"),c=n[n.length-1];return e.includes(c)||e.includes(i)}function O(n,e,i){if(e.path.push(n.name),!i&&e.content.length>0&&g(e),a(e,"<"+n.name),E(e,n.attributes),n.children===null||e.options.forceSelfClosingEmptyTag&&n.children.length===0){const c=e.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";a(e,c)}else if(n.children.length===0)a(e,"></"+n.name+">");else{const c=n.children;a(e,">"),e.level++;let d=n.attributes["xml:space"]==="preserve"||i,t=!1;if(!d&&e.options.ignoredPaths&&(t=S(e.path,e.options.ignoredPaths),d=t),!d&&e.options.collapseContent){let r=!1,o=!1,s=!1;c.forEach(function(f,m){f.type==="Text"?(f.content.includes(`
`)?(o=!0,f.content=f.content.trim()):(m===0||m===c.length-1)&&!i&&f.content.trim().length===0&&(f.content=""),(f.content.trim().length>0||c.length===1)&&(r=!0)):f.type==="CDATA"?r=!0:s=!0}),r&&(!s||!o)&&(d=!0)}c.forEach(function(r){w(r,e,i||d)}),e.level--,!i&&!d&&g(e),t&&y(e),a(e,"</"+n.name+">")}e.path.pop()}function E(n,e){Object.keys(e).forEach(function(i){const c=e[i].replace(/"/g,"&quot;");a(n," "+i+'="'+c+'"')})}function P(n,e){e.content.length>0&&g(e),a(e,"<?"+n.name),E(e,n.attributes),a(e,"?>")}function x(n,e={}){e.indentation="indentation"in e?e.indentation:"    ",e.collapseContent=e.collapseContent===!0,e.lineSeparator="lineSeparator"in e?e.lineSeparator:`\r
`,e.whiteSpaceAtEndOfSelfclosingTag=e.whiteSpaceAtEndOfSelfclosingTag===!0,e.throwOnFailure=e.throwOnFailure!==!1;try{const i=(0,l.default)(n,{filter:e.filter,strictMode:e.strictMode}),c={content:"",level:0,options:e,path:[]};return i.declaration&&P(i.declaration,c),i.children.forEach(function(d){w(d,c,!1)}),e.lineSeparator?c.content.replace(/\r\n/g,`
`).replace(/\n/g,e.lineSeparator):c.content}catch(i){if(e.throwOnFailure)throw i;return n}}x.minify=(n,e={})=>x(n,Object.assign(Object.assign({},e),{indentation:"",lineSeparator:""})),p.exports=x,u.default=x})(T,T.exports);var X=T.exports;const j=_(X);function F(p){return p.trim()}function N(p,u){return v(()=>j(F(p),u)??"","")}function I(p){const u=F(p);if(u==="")return!0;try{return j(u),!0}catch{return!1}}export{N as f,I as i};
