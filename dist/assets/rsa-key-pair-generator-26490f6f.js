import{d as v,n as P,p as k,o as x,e as g,f as o,i as a,w as u,g as i,x as K,av as w,l as C,F as h,m as B}from"./index-bdafdd1b.js";import{l as p}from"./index-62223c2a.js";import{T as c}from"./TextareaCopyable-f6299529.js";import{a as T}from"./defaults-4d6daddf.js";import{a as V}from"./computedRefreshable-e0afdfa4.js";import{_ as R}from"./InputNumber-edf9461a.js";import{_ as A}from"./FormItem-046fb30e.js";import"./___vite-browser-external_commonjs-proxy-538efbf0.js";import"./Copy-2f09f5e0.js";import"./Scrollbar-164a636c.js";import"./use-locale-9f5ebf2e.js";import"./use-form-item-a52b9253.js";import"./Input-8a427a38.js";import"./Button-cf694a6e.js";import"./is-browser-fc34c9a6.js";import"./color-to-class-8578b472.js";import"./Remove-c8e8232b.js";const N="/assets/prime.worker.min-e367bd53.js";function E({bits:n=2048}){return new Promise((e,r)=>p.pki.rsa.generateKeyPair({bits:n,workerScript:N},(s,l)=>{if(s){r(s);return}e(l)}))}async function F(n={}){const{privateKey:e,publicKey:r}=await E(n);return{publicKeyPem:p.pki.publicKeyToPem(r),privateKeyPem:p.pki.privateKeyToPem(e)}}const j={style:{flex:"0 0 100%"}},D={"item-style":"flex: 1 1 0",style:{"max-width":"600px"},"mx-auto":"",flex:"","gap-3":""},ee=v({__name:"rsa-key-pair-generator",setup(n){const e=P(2048),r={publicKeyPem:"",privateKeyPem:""},{attrs:s}=k({source:e,rules:[{message:"Bits should be 256 <= bits <= 16384 and be a multiple of 8",validator:m=>m>=256&&m<=16384&&m%8===0}]}),[l,_]=V(()=>T(()=>F({bits:e.value}),r),r);return(m,t)=>{const f=R,d=A,y=B;return x(),g(h,null,[o("div",j,[o("div",D,[a(d,w({label:"Bits :"},i(s),{"label-placement":"left","label-width":"100"}),{default:u(()=>[a(f,{value:i(e),"onUpdate:value":t[0]||(t[0]=b=>K(e)?e.value=b:null),min:"256",max:"16384",step:"8"},null,8,["value"])]),_:1},16),a(y,{onClick:i(_)},{default:u(()=>t[1]||(t[1]=[C(" Refresh key-pair ")])),_:1},8,["onClick"])])]),o("div",null,[t[2]||(t[2]=o("h3",null,"Public key",-1)),a(c,{value:i(l).publicKeyPem},null,8,["value"])]),o("div",null,[t[3]||(t[3]=o("h3",null,"Private key",-1)),a(c,{value:i(l).privateKeyPem},null,8,["value"])])],64)}}});export{ee as default};
