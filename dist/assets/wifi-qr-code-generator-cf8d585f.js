import{n as c,q as F,x as d,aa as u,d as N,o as g,c as W,w as A,f as h,i as p,g as l,l as S,U as E,e as T,V as q,y as B,m as H,z as V}from"./index-bdafdd1b.js";import{b as K}from"./browser-9d43139f.js";import{a as L}from"./downloadBase64-30179d64.js";import{_ as z}from"./Checkbox-281e8bad.js";import{_ as O}from"./ColorPicker-4cb21867.js";import{_ as R}from"./FormItem-046fb30e.js";import{_ as Y}from"./Form-9ba7f6ed.js";import"./index-9acbb933.js";import"./___vite-browser-external_commonjs-proxy-538efbf0.js";import"./use-form-item-a52b9253.js";import"./Input-8a427a38.js";import"./Button-cf694a6e.js";import"./is-browser-fc34c9a6.js";import"./color-to-class-8578b472.js";import"./use-locale-9f5ebf2e.js";import"./InputGroup-94f63549.js";const Q=["MD5","POTP","GTC","TLS","IKEv2","SIM","AKA","AKA'","TTLS","PWD","LEAP","PSK","FAST","TEAP","EKE","NOOB","PEAP"],G=["None","MSCHAPV2"];function w(P){return P.replace(/([\\;,:"])/g,"\\$1")}function j(P){const{ssid:t,password:n,encryption:a,eapMethod:s,isHiddenSSID:m,eapAnonymous:f,eapIdentity:_,eapPhase2Method:i}=P;if(!t)return null;if(a==="nopass")return`WIFI:S:${w(t)};;`;if(a!=="WPA2-EAP"&&n)return`WIFI:S:${w(t)};T:${a};P:${w(n)};${m?"H:true":""};`;if(a==="WPA2-EAP"&&n&&s){if(!_&&!f||s==="PEAP"&&!i)return null;const v=f?"A:anon":`I:${w(_)}`,b=i!=="None"?`PH2:${i};`:"";return`WIFI:S:${w(t)};T:WPA2-EAP;P:${w(n)};E:${s};${b}${v};${m?"H:true":""};`}return null}function J({ssid:P,password:t,eapMethod:n,isHiddenSSID:a,eapAnonymous:s,eapIdentity:m,eapPhase2Method:f,color:{background:_,foreground:i},options:v}){const b=c(""),r=c("WPA");return F([P,t,r,n,a,s,m,f,_,i].filter(d),async()=>{const x=j({ssid:u(P),password:u(t),encryption:u(r),eapMethod:u(n),isHiddenSSID:u(a),eapAnonymous:u(s),eapIdentity:u(m),eapPhase2Method:u(f)});x&&(b.value=await K.toDataURL(u(x).trim(),{color:{dark:u(i),light:u(_),...v?.color},errorCorrectionLevel:"M",...v}))},{immediate:!0}),{qrcode:b,encryption:r}}const X={grid:"","grid-cols-1":"","gap-12":""},Z={class:"mb-6 flex flex-row items-center gap-2"},ee={key:2,class:"mb-6 flex flex-row items-center gap-2"},oe={key:0},le={flex:"","flex-col":"","items-center":"","gap-3":""},te=["src"],we=N({__name:"wifi-qr-code-generator",setup(P){const t=c("#000000ff"),n=c("#ffffffff"),a=c(),s=c(),m=c(),f=c(!1),_=c(!1),i=c(),v=c(),{qrcode:b,encryption:r}=J({ssid:a,password:s,eapMethod:m,isHiddenSSID:f,eapAnonymous:_,eapIdentity:i,eapPhase2Method:v,color:{background:n,foreground:t},options:{width:1024}}),{download:x}=L({source:b,filename:"qr-code.png"});return(ne,e)=>{const y=q,k=B,I=z,$=O,U=R,C=Y,D=H,M=V;return g(),W(M,null,{default:A(()=>[h("div",X,[h("div",null,[p(y,{value:l(r),"onUpdate:value":e[0]||(e[0]=o=>d(r)?r.value=o:null),"mb-4":"",label:"Encryption method","default-value":"WPA","label-position":"left","label-width":"130px","label-align":"right",options:[{label:"No password",value:"nopass"},{label:"WPA/WPA2",value:"WPA"},{label:"WEP",value:"WEP"},{label:"WPA2-EAP",value:"WPA2-EAP"}]},null,8,["value"]),h("div",Z,[p(k,{value:l(a),"onUpdate:value":e[1]||(e[1]=o=>d(a)?a.value=o:null),"label-position":"left","label-width":"130px","label-align":"right",label:"SSID:",rows:"1",autosize:"",placeholder:"Your WiFi SSID...","mb-6":""},null,8,["value"]),p(I,{checked:l(f),"onUpdate:checked":e[2]||(e[2]=o=>d(f)?f.value=o:null)},{default:A(()=>e[10]||(e[10]=[S(" Hidden SSID ")])),_:1},8,["checked"])]),l(r)!=="nopass"?(g(),W(k,{key:0,value:l(s),"onUpdate:value":e[3]||(e[3]=o=>d(s)?s.value=o:null),"label-position":"left","label-width":"130px","label-align":"right",label:"Password:",rows:"1",autosize:"",type:"password",placeholder:"Your WiFi Password...","mb-6":""},null,8,["value"])):E("",!0),l(r)==="WPA2-EAP"?(g(),W(y,{key:1,value:l(m),"onUpdate:value":e[4]||(e[4]=o=>d(m)?m.value=o:null),label:"EAP method","label-position":"left","label-width":"130px","label-align":"right",options:l(Q).map(o=>({label:o,value:o})),searchable:"","mb-4":""},null,8,["value","options"])):E("",!0),l(r)==="WPA2-EAP"?(g(),T("div",ee,[p(k,{value:l(i),"onUpdate:value":e[5]||(e[5]=o=>d(i)?i.value=o:null),"label-position":"left","label-width":"130px","label-align":"right",label:"Identity:",rows:"1",autosize:"",placeholder:"Your EAP Identity...","mb-6":""},null,8,["value"]),p(I,{checked:l(_),"onUpdate:checked":e[6]||(e[6]=o=>d(_)?_.value=o:null)},{default:A(()=>e[11]||(e[11]=[S(" Anonymous? ")])),_:1},8,["checked"])])):E("",!0),l(r)==="WPA2-EAP"?(g(),W(y,{key:3,value:l(v),"onUpdate:value":e[7]||(e[7]=o=>d(v)?v.value=o:null),label:"EAP Phase 2 method","label-position":"left","label-width":"130px","label-align":"right",options:l(G).map(o=>({label:o,value:o})),searchable:"","mb-4":""},null,8,["value","options"])):E("",!0),p(C,{"label-width":"130","label-placement":"left"},{default:A(()=>[p(U,{label:"Foreground color:"},{default:A(()=>[p($,{value:l(t),"onUpdate:value":e[8]||(e[8]=o=>d(t)?t.value=o:null),modes:["hex"]},null,8,["value"])]),_:1}),p(U,{label:"Background color:"},{default:A(()=>[p($,{value:l(n),"onUpdate:value":e[9]||(e[9]=o=>d(n)?n.value=o:null),modes:["hex"]},null,8,["value"])]),_:1})]),_:1})]),l(b)?(g(),T("div",oe,[h("div",le,[h("img",{alt:"wifi-qrcode",src:l(b),width:"200"},null,8,te),p(D,{onClick:l(x)},{default:A(()=>e[12]||(e[12]=[S(" Download qr-code ")])),_:1},8,["onClick"])])])):E("",!0)])]),_:1})}}});export{we as default};
